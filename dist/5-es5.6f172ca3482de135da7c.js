function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function _createClass(r,e,n){return e&&_defineProperties(r.prototype,e),n&&_defineProperties(r,n),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(r,e,n){"use strict";n.r(e);var t=n("ofXK"),i=n("tyNb"),o=n("3Pt+"),a=n("lJxs"),c=n("vkgz"),s=n("fXoL"),b=n("qXBG"),l=n("kmnG"),u=n("qFsG"),f=n("NFeN"),m=n("bTqV"),d=function(){return["/auth"]},g=function(){return{signUp:!0}};function p(r,e){1&r&&(s.Rb(0,"p"),s.rc(1,"Don't have an account? "),s.Rb(2,"a",12),s.rc(3,"Get One"),s.Qb(),s.Qb()),2&r&&(s.Bb(2),s.gc("routerLink",s.hc(2,d))("queryParams",s.hc(3,g)))}function h(r,e){1&r&&(s.Rb(0,"p"),s.rc(1,"Already have an account? "),s.Rb(2,"a",13),s.rc(3,"Sign In"),s.Qb(),s.Qb()),2&r&&(s.Bb(2),s.gc("routerLink",s.hc(1,d)))}function R(r,e){if(1&r){var n=s.Sb();s.Rb(0,"div",14),s.Rb(1,"mat-error"),s.rc(2),s.Qb(),s.Rb(3,"button",15),s.Zb("click",(function(){return s.kc(n),s.bc().errorMsg=""})),s.Rb(4,"span",16),s.rc(5,"\xd7"),s.Qb(),s.Qb(),s.Qb()}if(2&r){var t=s.bc();s.Bb(2),s.tc(" ",t.errorMsg," ")}}function v(r,e){1&r&&(s.Rb(0,"mat-error"),s.rc(1," Username is "),s.Rb(2,"strong"),s.rc(3,"required"),s.Qb(),s.Qb())}function Q(r,e){if(1&r&&(s.Rb(0,"p"),s.Rb(1,"mat-form-field",7),s.Rb(2,"mat-label"),s.rc(3,"Username"),s.Qb(),s.Nb(4,"input",17),s.Rb(5,"mat-icon",9),s.rc(6,"alternate_email"),s.Qb(),s.qc(7,v,4,0,"mat-error",4),s.Qb(),s.Qb()),2&r){var n=s.bc();s.Bb(7),s.gc("ngIf",n.form.controls.username.hasError("required"))}}function w(r,e){1&r&&(s.Rb(0,"mat-error"),s.rc(1," Please enter a valid email address "),s.Qb())}function y(r,e){1&r&&(s.Rb(0,"mat-error"),s.rc(1," Email is "),s.Rb(2,"strong"),s.rc(3,"required"),s.Qb(),s.Qb())}function q(r,e){1&r&&(s.Rb(0,"mat-error"),s.rc(1," Password is "),s.Rb(2,"strong"),s.rc(3,"required"),s.Qb(),s.Qb())}var I,k,C=[{path:"",component:(I=function(){function r(e,n,t,i){var s=this;_classCallCheck(this,r),this.authService=e,this.route=n,this.router=t,this.fb=i,this.form=this.fb.group({email:[null,[o.l.required,o.l.email]],password:[null,o.l.required]}),this.signIn=!0,this.route.queryParamMap.pipe(Object(a.a)((function(r){return r.params.signUp})),Object(c.a)((function(r){return s.signIn=!r}))).subscribe((function(r){s.signIn?s.form.removeControl("username"):s.form.addControl("username",new o.c(null,o.l.required))}))}return _createClass(r,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var r=this;this.authService.loginWithEmailPassword$(this.form.value).subscribe((function(e){console.log(e),e&&r.router.navigate(["/"])}),(function(e){r.errorMsg=e.message}))}},{key:"register",value:function(){var r=this;this.authService.register$(this.form.value).subscribe((function(e){e&&r.login()}),(function(e){r.errorMsg=e.message}))}}]),r}(),I.\u0275fac=function(r){return new(r||I)(s.Mb(b.a),s.Mb(i.a),s.Mb(i.b),s.Mb(o.b))},I.\u0275cmp=s.Gb({type:I,selectors:[["app-auth"]],decls:32,vars:11,consts:[[1,"container","h-100"],[1,"row","text-center","p-4","m-4","h-100"],[1,"col","align-items-center","h-100"],[1,"bg-white","d-inline-block","p-5","rounded","mt-4"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["appearance","outline"],["type","email","matInput","","formControlName","email","placeholder","Email Address"],["matSuffix",""],["type","password","matInput","","formControlName","password","placeholder","Secret code"],["type","submit","mat-flat-button","","color","primary",1,"w-100","py-1",3,"disabled"],[3,"routerLink","queryParams"],[3,"routerLink"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["type","email","matInput","","formControlName","username","placeholder","Username"]],template:function(r,e){1&r&&(s.Nb(0,"router-outlet"),s.Rb(1,"div",0),s.Rb(2,"div",1),s.Rb(3,"div",2),s.Rb(4,"div",3),s.Rb(5,"h4"),s.rc(6),s.Qb(),s.qc(7,p,4,4,"p",4),s.qc(8,h,4,2,"p",4),s.Rb(9,"form",5),s.Zb("ngSubmit",(function(){return e.signIn?e.login():e.register()})),s.qc(10,R,6,1,"div",6),s.qc(11,Q,8,1,"p",4),s.Rb(12,"p"),s.Rb(13,"mat-form-field",7),s.Rb(14,"mat-label"),s.rc(15,"Email"),s.Qb(),s.Nb(16,"input",8),s.Rb(17,"mat-icon",9),s.rc(18,"alternate_email"),s.Qb(),s.qc(19,w,2,0,"mat-error",4),s.qc(20,y,4,0,"mat-error",4),s.Qb(),s.Qb(),s.Rb(21,"p"),s.Rb(22,"mat-form-field",7),s.Rb(23,"mat-label"),s.rc(24,"Password"),s.Qb(),s.Nb(25,"input",10),s.Rb(26,"mat-icon",9),s.rc(27,"code"),s.Qb(),s.qc(28,q,4,0,"mat-error",4),s.Qb(),s.Qb(),s.Rb(29,"p"),s.Rb(30,"button",11),s.rc(31),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&r&&(s.Bb(6),s.sc(e.signIn?"Login":"Register"),s.Bb(1),s.gc("ngIf",e.signIn),s.Bb(1),s.gc("ngIf",!e.signIn),s.Bb(1),s.gc("formGroup",e.form),s.Bb(1),s.gc("ngIf",e.errorMsg),s.Bb(1),s.gc("ngIf",!e.signIn),s.Bb(8),s.gc("ngIf",e.form.controls.email.hasError("email")&&!e.form.controls.email.hasError("required")),s.Bb(1),s.gc("ngIf",e.form.controls.email.hasError("required")),s.Bb(8),s.gc("ngIf",e.form.controls.password.hasError("required")),s.Bb(2),s.gc("disabled",!e.form.valid),s.Bb(1),s.sc(e.signIn?"Login":"Register"))},directives:[i.e,t.k,o.m,o.i,o.e,l.b,l.e,u.a,o.a,o.h,o.d,f.a,l.f,m.a,i.c,l.a],styles:["[_nghost-%COMP%]{position:fixed;height:100vh;top:0;left:0;right:0;background:#f3f2f1}"]}),I)}],B=((k=function r(){_classCallCheck(this,r)}).\u0275mod=s.Kb({type:k}),k.\u0275inj=s.Jb({factory:function(r){return new(r||k)},imports:[[i.d.forChild(C)],i.d]}),k);n.d(e,"AuthModule",(function(){return M}));var P,M=((P=function r(){_classCallCheck(this,r)}).\u0275mod=s.Kb({type:P}),P.\u0275inj=s.Jb({factory:function(r){return new(r||P)},imports:[[t.b,i.d,o.f,o.k,l.d,u.b,f.b,m.b,B],i.d]}),P)}}]);